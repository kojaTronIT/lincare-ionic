<ion-content id="main-content">
  <div class="wrapper">
    <ion-header>
      <ion-toolbar>
        <ion-title>
          <ion-icon icon="medkit-outline"></ion-icon> Lincare
        </ion-title>
      </ion-toolbar>
    </ion-header>
    
    <div id="subtitle" align="center">
      <p>Help us verify your information</p>
    </div>
    
    <form class="form-container" [formGroup]="registrationForm" (ngSubmit)="onSubmit()">

      <ion-card id="open-modal">

        <div>
          <ion-modal trigger="open-modal">
            <ng-template>
              <ion-content id="date-select">
                <ion-datetime value="1940-01-01" presentation="date" #popoverDatetime (ionChange)="onChange(formatDate(popoverDatetime.value))">
                  <div slot="title">Select your date of birth</div>
                  <ion-buttons slot="buttons">
                    <ion-button  color="primary" (click)="confirm()">Confirm</ion-button>
                    <ion-button  color="danger" (click)="close()">Close</ion-button>
                  </ion-buttons>
                </ion-datetime>
              </ion-content>
            </ng-template>
          </ion-modal>

          <ion-input align="center" placeholder="Click to select your date of birth" formControlName="dateOfBirth" [value]="dateValue" readonly>
          </ion-input>
        </div>

        <div align="center" class="error-field" *ngFor="let error of errorMessages.dateOfBirth">
          <ng-container *ngIf="dateOfBirth.hasError(error.type) && (dateOfBirth.touched)">
            <small class="error-message">{{error.message}}</small>
          </ng-container>
        </div>

      </ion-card>
    
      <ion-card id="zipcode">
        <div>
          <ion-input align="center" placeholder="Please enter your zipcode" formControlName="zipcode"></ion-input>
        </div>
    
        <div align="center" class="error-field" *ngFor="let error of errorMessages.zipcode">
          <ng-container *ngIf="zipcode.hasError(error.type) && (zipcode.dirty || zipcode.touched)">
            <small class="error-message">{{error.message}}</small>
          </ng-container>
        </div>
      </ion-card>
    
      <div id="buttons">
        <ion-button expand="block" class="form-action-button" type="submit" [disabled]="!registrationForm.valid">
          Submit
        </ion-button>
    
        <ion-button expand="block" color="danger" class="form-action-button" (click)="onCancel()">
          Cancel
        </ion-button>
      </div>
    
    </form>
  </div>
</ion-content>
